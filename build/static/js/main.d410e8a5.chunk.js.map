{"version":3,"sources":["services/persons.js","components/Person.js","components/Persons.js","components/InputField.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","res","data","newObj","post","id","put","delete","Person","person","confirmDelete","name","number","value","onClick","Persons","persons","map","key","InputField","text","onChange","PersonForm","props","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Notification","message","className","App","useEffect","personService","setPersons","catch","e","setAlertMessage","setAlertType","setTimeout","useState","setNewName","setNewNumber","filter","setFilter","alertMessage","alertType","personsToShow","toLowerCase","includes","event","target","preventDefault","personObj","some","alert","window","confirm","find","p","concat","parseInt","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d410e8a5.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n    const req = axios.get(baseUrl)\n    return req.then(res => res.data)\n}\n\nconst create = newObj => {\n    const req = axios.post(baseUrl, newObj)\n    return req.then(res => res.data)\n}\n\nconst update = (id, newObj) => {\n    const req = axios.put(`${baseUrl}/${id}`, newObj)\n    return req.then(res => res.data)\n}\n\nconst del = (id) => {\n    const req = axios.delete(`${baseUrl}/${id}`)\n    return req.then(res => res.data)\n}\n\nexport default { getAll, create, update, del }","import React from 'react'\n\nconst Person = ({ person, confirmDelete }) => (\n    <li>\n        {person.name} {person.number} <button value={person.id} onClick={confirmDelete}>Delete</button>\n    </li>\n)\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, confirmDelete }) => (\n    <ul>\n        {persons.map(person =>\n            <Person key={person.id} person={person} confirmDelete={confirmDelete} />\n        )}\n    </ul>\n)\n\nexport default Persons","import React from 'react'\n\nconst InputField = ({ text, value, onChange }) => (\n    <div>\n        {text}: <input value={value} onChange={onChange} />\n    </div>\n)\n\nexport default InputField","import React from 'react'\nimport InputField from './InputField'\n\nconst PersonForm = (props) => {\n    const {\n        addPerson,\n        newName,\n        handleNameChange,\n        newNumber,\n        handleNumberChange\n    } = props\n\n    return (\n        <form onSubmit={addPerson}>\n            <InputField text=\"Name\" value={newName} onChange={handleNameChange} />\n            <InputField text=\"Number\" value={newNumber} onChange={handleNumberChange} />\n            <button type=\"submit\">Add</button>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (<div className={`alert ${type}`}>{message}</div>)\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Persons from './components/Persons'\nimport InputField from './components/InputField'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\tuseEffect(() => {\n\t\tpersonService\n\t\t.getAll()\n\t\t.then(data => {\n\t\t\tsetPersons(data)\n\t\t})\n\t\t.catch(e => {\n\t\t\tsetAlertMessage('Error fetching persons from database!')\n\t\t\tsetAlertType('error')\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetAlertMessage(null)\n\t\t\t\tsetAlertType('')\n\t\t\t}, 5000)\n\t\t})\n\t}, []) \n\n\tconst [persons, setPersons] = useState([])\n\tconst [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\tconst [filter, setFilter] = useState('')\n\tconst [alertMessage, setAlertMessage] = useState(null)\n\tconst [alertType, setAlertType] = useState('')\n\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault()\n\t\tconst personObj = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber\n\t\t}\n\t\tif (!persons.some(person => person.name === newName)) {\n\t\t\tpersonService\n\t\t\t.create(personObj)\n\t\t\t.then(data => {\n\t\t\t\tsetPersons(persons.concat(data))\n\t\t\t\tsetNewName('')\n\t\t\t\tsetNewNumber('')\n\t\t\t\tsetAlertMessage(`Added ${newName}`)\n\t\t\t\tsetAlertType('success')\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetAlertMessage(null)\n\t\t\t\t\tsetAlertType('')\n\t\t\t\t}, 5000)\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\tsetAlertMessage(`Error adding ${newName} to database!`)\n\t\t\t\tsetAlertType('error')\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetAlertMessage(null)\n\t\t\t\t\tsetAlertType('')\n\t\t\t\t}, 5000)\n\t\t\t})\n\t\t} else if (persons.some(person => (person.name === newName && person.number === newNumber))) {\n\t\t\talert(`${newName} is already added to the phonebook with the given number.`)\n\t\t} else {\n\t\t\tif (window.confirm(`${newName} is already added to the phonebook. Replace the old number with a new one?`)) {\n\t\t\t\tconst id = persons.find(p => p.name === newName).id\n\t\t\t\tpersonService\n\t\t\t\t.update(id, personObj)\n\t\t\t\t.then(data => {\n\t\t\t\t\tsetPersons(persons.map(p => p.id !== id ? p : data))\n\t\t\t\t\tsetNewName('')\n\t\t\t\t\tsetNewNumber('')\n\t\t\t\t\tsetAlertMessage(`Updated ${newName}`)\n\t\t\t\t\tsetAlertType('success')\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetAlertMessage(null)\n\t\t\t\t\t\tsetAlertType('')\n\t\t\t\t\t}, 5000)\n\t\t\t\t})\n\t\t\t\t.catch(e => {\n\t\t\t\t\tsetAlertMessage(`Error updating ${newName}!`)\n\t\t\t\t\tsetAlertType('error')\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetAlertMessage(null)\n\t\t\t\t\t\tsetAlertType('')\n\t\t\t\t\t}, 5000)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tconst deletePerson = (id, name) => {\n\t\tpersonService\n\t\t.del(id)\n\t\t.then(() => {\n\t\t\tsetPersons(persons.filter(p => p.id !== id))\n\t\t\tsetAlertMessage(`${name} deleted successfully`)\n\t\t\tsetAlertType('success')\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetAlertMessage(null)\n\t\t\t\tsetAlertType('')\n\t\t\t}, 5000)\n\t\t})\n\t\t.catch(e => {\n\t\t\tsetAlertMessage(`Person ${name} was already removed from server!`)\n\t\t\tsetAlertType('error')\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetAlertMessage(null)\n\t\t\t\tsetAlertType('')\n\t\t\t}, 5000)\n\t\t})\n\t}\n\n\tconst confirmDelete = (event) => {\n\t\tconst id = parseInt(event.target.value)\n\t\tconst name = persons.find(p => p.id === id).name\n\t\tif (window.confirm(`Delete ${name}?`)) {\n\t\t\tdeletePerson(id, name)\n\t\t}\n\t}\n\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value)\n\t}\n\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value)\n\t}\n\n\tconst handleFilterChange = (event) => {\n\t\tsetFilter(event.target.value)\n\t}\n\n\tconst personsToShow = filter === ''\n\t\t? persons\n\t\t: persons.filter(person => (\n\t\t\tperson.name.toLowerCase().includes(filter.toLowerCase()) || person.number.includes(filter)\n\t\t\t))\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={alertMessage} type={alertType} />\n\t\t\t<InputField text=\"Search\" value={filter} onChange={handleFilterChange} />\n\t\t\t<h3>Add a new contact</h3>\n\t\t\t<PersonForm\n\t\t\t\taddPerson={addPerson}\n\t\t\t\tnewName={newName}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t\t/>\n\t\t\t<h3>Numbers</h3>\n\t\t\t<Persons persons={personsToShow} confirmDelete={confirmDelete} />\n\t\t</div>\n\t)\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}